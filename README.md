DocWriter
=========

Desktop Editor for the ECMA XML Documentation.


How to use it:
--------------

#1 Checkout your docs

Checkout your documentation from Git.

#2 Launch the App

Start the application, you will be prompted to open a directory,
select the toplevel for your docs, for example
"/Users/miguel/git/ios-api-docs".

Then select on the left side the node that you want to write
documentation for.  Then click on the right side (or tab) to start
editing the documentation.

#3 Make Edits

Both the Edit and the Format menu contains a few useful commands to
spice up your documentation.  From adding lists, tables, examples,
links to other docs and code samples, to turning words into language
words or parameters.

Use Command-R to insert a reference, this will insert a template of a
ECMA type reference, that you can then edit to point to the actual
element you want (remember, you need things like T:System.String,
M:System.Console.WriteLine and so on).

Changes are automatically saved when you switch from one page to
another.  That said, for the paranoid among us, you can hit Command-S
to save.

#4 Commit

Once you are happy, quit the app, and do a git commit, and push/rebase
as necessary.

It is recommended that you restart the app after a push/rebase, or you
risk losing data.

#5 Done!

TODO: 
=====

- [X] Javascript API to inject HTML at the cursor position (we have
      inject text, just not inject HTML, needed for inserting actual ECMA
      snippets)
- [ ] Add image loading support
- [x] Allow editing of the enums at the type level, without having to go element by element
- [X] Force a save on quit.
- [X] Add try/catch around the validation timer, and catch errors there
- [X] Hookup Command-S to save, for the paranoid in us.
- [x] Hotkeys to insert various kinds of markup
- [X] Implement an "Insert HTML text" option as we can currently only add text at the current location.
- [ ] Member Lookup UI (see below)
- [X] Allow documentation to be loaded from another location
- [X] Render parse errors as part of the HTML (add a div that we can use to inject errors/colors on parse errors, so that the message is shown in the correct context (specially important for long lists).
- [ ] Namespace functionality editing (summary/remarks for a namespace, file ns-XXX.xml)
- [ ] Support for editing delegates 
- [ ] Handle clicks on links
- [ ] Implement back/forward history
- [ ] Search bar at the top
- [ ] Make members clickable, so you can navigate to the contents of that particular node
- [x] Ability to insert <see paramref=""/> (done by selecting range, and using Format menu)
- [ ] Collapse multiple divs in content
- [ ] Disable formatting on paste (from console for example, we get lots of colors).
- [ ] Sometimes this is inserting a ton of newline space in the docs, not sure why
- [X] Need to collapse <divs> inside code that are added naturally by the contenteditable
- [ ] Need to test that editing of <CDATA> sections does not have the same problems with nested divs generated by content editable

Commands:
- [ ] Hot key to insert common elements that might be referenced from the current item.   On a class, those might be members for example, on a member, those could be parameters.
- [x] Insert Table
- [x] Insert row to table
- [ ] Add Column
- [ ] Remove Column
- [ ] Insert number list
- [x] Insert bullet list
- [ ] Insert HTTP url (done, need UI to enter the Link/Caption for URL links)
- [ ] Clean <spans> from pasted text (even plain text is difficult to paste from a web browser)
- [ ] Command to indent/unindent region of text (for source code updates)

Bugs
====

Inserting an Example after an Example nests the example. (Command-E twice)

It is not possible to add text after an Example.  Perhaps we need to
insert a spare div to allow editing after an example.

Searching
=========

This could be slow, but would be nice to load all the docs, so we
could search over the text

Easy Duplicator
===============

Find a way to duplicate the body of elements from one element to
another (for example, overloads), and then the user could jsut fine
tune the eleemnts.

Big Ideas
=========

Perhaps we could host more than one Web View, host couple of side web
views that would dynamically get the contents from Googling on
StackOverflow side-by-side.

Perhaps show the source code for the binding for a particular API.

Tests
=====

Currently I use the body of documentation from ios-api-docs as a test.    Use the
Convert solution to load, it will try to convert all the docs to HTML and then back
from HTML into ECMA XML.

Then it uses an XML diff that ignores whitespace to determine if the
roundtripping works.  The code asserts aggressively to detect cases
that it can not handle.


Member Lookup UI
================

This is the user interface that pops up when you hit a keystroke to
add a link to a member.  It should offer member completion as you
type, to ensure that we actually insert references to valid targets.

It should have the ability to complete both the members in the
currently edited document as well as members from the system installed
documents (using MonoDoc.dll to resolve that).

It currently supports filtering the namespaces (only), and provides
simple code completion when pressing TAB, but does not currently have
support for inserting the result or for going beyond the namespace.

While we extract the prefix, we are not currently using it.

Ideally it should detect that it has a complete namespace, and if it
does, and you press ".", then it shows types, and the process is
repeated, when it knows you have a full type and you press "." it
should display members.

Currently, there is no really support for inserting the proper prefix,
it is just hardcoded to "N:".

Wanted:
=======

- [ ] Flag members that are auto-documented as such, to now waste documenters time on it.


Handle Clicks on Links
======================

We could navigate to that page, 


Search Bar
==========

Linked to Command-L, as you type, it finds the member on the right side?
